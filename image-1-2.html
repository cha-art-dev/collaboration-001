<html>
<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.7/p5.min.js"></script>
  <script>
  var BACKGROUND_SRC = '3x3/image-1-2.png'; // <<-- CHANGE THIS TO YOUR ASSIGNED IMAGE
  var IMAGE_DIMENSION = 500;    // Don't change this.

  var overlay;

  function setup() {
    createCanvas(IMAGE_DIMENSION, IMAGE_DIMENSION);
    colorMode(RGB, 255);
    noStroke();
    overlay = loadImage(BACKGROUND_SRC);
    mouseX = -1;
  }

  function draw() {
    clear(); // leave this at the top

    //=============== START DRAWING HERE =======================

    // Background
    background(202,188,155);


    // Top left thing
    fill(113,104,86);
    rotateEllipse(0,0,43,105,1);

    // Bottom left thing
    fill(113,104,86);
    rotateEllipse(0,350,110,55,3);

    // Background R2D2
    fill(209,208,182);
    rect(265,0,280,115);

    fill(184,170,124);
    rect(265,115,280,63);

    // Left foot
    fill(209,208,182);
    rect(225,0,20,35);
    rect(212,35,45,205);

    fill(20,16,0);
    rect(232,25,8,55);
    rect(232,85,8,12);

    fill(209,208,182);
    quad(205,240,265,240,300,340,170,340)

    fill(20,16,0);
    rect(230,230,10,20);

    fill(184,170,124);
    rect(227,270,15,50);
    rect(170,340,130,10);

    stroke(160,124,74);
    strokeWeight(3);
    line(223,280,245,280);

    noStroke()
    fill(120,100,54,80);
    ellipse(235,360,170,10);

    // Front foot
    fill(160,147,100);
    rect(390,180,50,80);

    fill(209,208,182);
    quad(380,260,450,260,500,400,330,400)

    fill(20,16,0);
    rect(410,250,10,20);

    fill(120,100,54,80);
    ellipse(430,409,230,10);

    fill(184,170,124);
    rect(406,295,20,80);
    rect(330,400,170,10);



    // Body

    // Top Squares
    noFill()
    stroke(168,160,128);
    strokeWeight(2);
    rect(300,0,30,25);
    stroke(195,186,155);
    rect(350,0,80,25);
    rect(450,0,80,25);

    rect(450,0,80,25);

    // Second row
    stroke(168,160,128);
    fill(211,220,214);
    rect(275,35,60,65);


    fill(5,3,5);
    noStroke()
    rect(351,35,60,65);
    rect(283,45,20,45);

    noFill();
    strokeWeight(2);
    stroke(209,208,182);
    ellipse(381,68,58,58);

    strokeWeight(5);
    line(350,68,410,68);
    line(381,40,381,95);

    fill(209,208,182);
    ellipse(381,68,20,20);

    noFill();
    strokeWeight(2)
    stroke(195,186,155);
    rect(425,35,40,65);
    rect(480,35,40,65);

    // Row 3
    stroke(120,100,54);
    rect(275,125,20,40);
    rect(308,125,40,40);
    rect(360,125,40,40);
    rect(413,125,68,40);
    rect(493,125,40,40);

    // Shadow
    stroke('rgba(20,16,0,0.75)');
    strokeCap(SQUARE)
    strokeWeight(3);

    line(265,178,500,178);
    //line(263,0,263,178);
    noStroke();

    //================ END DRAWING HERE ========================
    drawOverlay();
  }

  function rotateEllipse(x,y,rx,ry,angle) {
    translate(x,y);
    rotate(PI * angle / 180);
    ellipse(0,0,rx,ry);
    resetMatrix();
  }

  function mouseOver() {
    return mouseX >= 0 && mouseX < IMAGE_DIMENSION
        && mouseY >= 0 && mouseY < IMAGE_DIMENSION
  }

  function drawOverlay() {
    if ( mouseOver() ) {
      tint(255,255 * mouseX / IMAGE_DIMENSION);
      image(overlay, 0, 0, 500, 500);
      tint(255,255);
    }
  }

  </script>
  <style>
    body {padding: 0; margin: 5% 0 0; background-color: #ccc;}
    canvas {margin: 0 auto; display:block; background-color: white;}
  </style>
</head>
<body>
</body>
</html>
